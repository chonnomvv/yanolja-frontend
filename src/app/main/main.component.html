<section class="main-wrapper fix-height">
  <section class="main-header">
    <div class="container">
      <h2>야 너도 놀수있어</h2>
      <div class="search-panel">
        <div class="d-flex">
          <div class="d-flex flex-column flex-grow-1">
            <div class="d-flex mb-2">
              <div class="flex-fill">
                <div class="alist-search-type search-box" appClickOutside (clickOutSide)="type = false">
                  <div class="alist-search-frame" (click)="toggle('type')">
                    <i class="fa fa-bed" aria-hidden="true"></i>
                    <button class="alist-search-inputbox">{{ searchBarShow }}</button>
                  </div>
                  <div class="alist-popup-container" *ngIf="type">
                    <div class="alist-type-popup-module">
                      <ul class="alist-popup-type-container">
                        <li class="alist-popup-type-item" (click)="selectType('모텔')">모텔</li>
                        <li class="alist-popup-type-item" (click)="selectType('호텔/리조트')">호텔/리조트</li>
                        <li class="alist-popup-type-item" (click)="selectType('게스트하우스')">게스트하우스</li>
                        <li class="alist-popup-type-item" (click)="selectType('펜션/풀빌라')">펜션/풀빌라</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex-fill">
                <div class="alist-search-loc search-box" appClickOutside (clickOutSide)="location = false">
                  <div class="alist-search-frame" (click)="toggle('location')">
                    <i class="alist-search-icon fa fa-map-marker"></i>
                    <button class="alist-search-inputbox">{{ searchBarLocShow }}</button>
                  </div>
                  <div class="alist-search-location-container" *ngIf="location">
                    <a (click)="openModal(template)" class="open-map-btn">
                      <i class="fa fa-location-arrow" aria-hidden="true"></i>
                      {{ address }}
                      <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
                    <div class="alist-search-location-header">
                      <ul class="alist-location-header-top">
                        <li [class.active]="locationA.active" (click)="locationChange($event, locationA.val)" *ngFor="let locationA of locationArr">{{ locationA.val }}</li>
                      </ul>
                    </div>
                    <div class="alist-search-location-bottom">
                      <ul class="alist-search-bottom-list">
                        <li (click)="selectLoc(locationVal)" *ngFor="let locationVal of detailLocationArr">{{ locationVal }}</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex-fill">
                <div class="alist-search-date search-box" (click)="toggle('calendar')">
                  <div class="alist-search-frame">
                    <i class="fa fa-calendar-check-o" aria-hidden="true"></i>
                    <button class="alist-search-inputbox">
                      <div class="form-group datePicker">
                        <input type="text" placeholder="예약하실 날짜를 선택하세요" class="form-control datePicker-input"
                          [bsConfig]="datePickerConfig" bsDaterangepicker [(ngModel)]="bsRangeValue" [container]="'.main-wrapper'"
                          [bsValue]="bsValue" readonly #inputDate>
                      </div>
                    </button>
                  </div>
                </div>
              </div>
              <div class="flex-fill">
                <div class="alist-search-date search-box" appClickOutside (clickOutSide)="person = false">
                  <div class="alist-search-frame">
                    <i class="fa fa-user" aria-hidden="true"></i>
                    <button class="alist-search-inputbox" (click)="toggle('member')">
                      <div class="btn-date-inner">
                        <span>총 {{numberAdult + numberChildren}}명 (어른 : {{numberAdult}}명, 아동: {{numberChildren}}명)</span>
                        <i class="fa fa-chevron-down arrow" *ngIf="!person" aria-hidden="true"></i>
                        <i class="fa fa-chevron-up arrow" *ngIf="person" aria-hidden="true"></i>
                      </div>
                    </button>
                  </div>
                  <div class="alist-popup-container alist-popup-container-member" *ngIf="person">
                    <div class="alist-popup-wrapper">
                      <div class="alist-popup-module">
                        <h4 class="alist-date-popup-h4">인원</h4>
                        <div class="alist-date-popup-content">
                          <div class="alist-date-popup-content-person popup-adult">
                            <p class="popup-person-option">성인</p>
                            <div class="popup-btn-stepper">
                              <button class="stepper-modifier" (click)="minus('adult')">
                                <i class="fa fa-minus" aria-hidden="true"></i>
                              </button>
                              <p class="stepper-value">{{numberAdult}}</p>
                              <button class="stepper-modifier" (click)="plus('adult')">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                          <div class="alist-date-popup-content-person popup-children">
                            <p class="popup-person-option">아동</p>
                            <div class="popup-btn-stepper">
                              <button class="stepper-modifier" (click)="minus('children')">
                                <i class="fa fa-minus" aria-hidden="true"></i>
                              </button>
                              <p class="stepper-value">{{numberChildren}}</p>
                              <button class="stepper-modifier" (click)="plus('children')">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="btn-popup-close">
                        <button class="btn-close" (click)="toggle('member')">
                          <i class="fa fa-times" aria-hidden="true"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="keyword-wrap">
              <i class="fa fa-search"></i>
              <input type="text" class="search-box keyword-input" placeholder="키워드를 입력해주세요.">
            </div>
          </div>
          <div class="align-self-stretch">
            <div class="btn-submit-container search-box" (click)="submitNav()">
              <div class="alist-search-frame">
                <button class="btn btn-outline-primary alist-search-inputbox">검색</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="swiper-panel">
        <div class="swiper-container" [swiper]="headerConfig">
          <div class="swiper-wrapper">
            <div class="swiper-slide" *ngFor="let popularKeyword of popularKeywords">
              <a routerLink="/accommodation" [queryParams]="{ totalComments: 1000 }" class="hash-item" [style.background-image]="popularKeyword.img">
                <div class="hash-bg"></div>
                <h3>{{ popularKeyword.name }}</h3>
              </a>
            </div>
          </div>
        </div>
        <div class="swiper-button-prev main-swiper-button-prev">
          <i class="fa fa-angle-left" aria-hidden="true"></i>
        </div>
        <div class="swiper-button-next main-swiper-button-next">
          <i class="fa fa-angle-right" aria-hidden="true"></i>
        </div>
      </div>
    </div>
  </section>
  <section class="main-contents">
    <div class="container">
      <div class="content-panel">
        <h2>더위 사냥엔 물놀이가 최고!</h2>
        <div *ngIf="swimmingPoolIsLoading$ | async" class="loading-wrap">
          <div class="loading"><img src="/assets/img/common/loading.gif" alt="loading"></div>
        </div>
        <div class="swiper-panel" *ngIf="!(swimmingPoolIsLoading$ | async)">
          <div class="swiper-container" [swiper]="contentConfig1">
            <div class="swiper-wrapper">
              <div class="swiper-slide" *ngFor="let swimmingPool of swimmingPools">
                <a routerLink="/accommodation/{{ swimmingPool.stayId }}" class="content-item">
                  <div class="content-img-wrap">
                    <img src="{{ swimmingPool.mainImage }}" alt="{{ swimmingPool.stay }}">
                  </div>
                  <div class="content-text-wrap">
                    <div class="location"><i class="fa fa-map-marker" aria-hidden="true"></i> {{ swimmingPool.directions }}</div>
                    <h3>{{ swimmingPool.stay }}</h3>
                    <div class="customer">
                      <img src="/assets/img/common/comma-y.png" class="comma">
                      <span>{{ swimmingPool.averageGrade }}</span>
                      <i class="fa fa-comments" aria-hidden="true"></i>
                      <span>{{ swimmingPool.totalComments | number }}</span>
                    </div>
                    <div class="type-wrap">
                      <div class="type borrow clearfix" *ngIf="!!+swimmingPool.hoursPrice">
                        <div class="float-left">
                          <h4>대실</h4>
                          <span>최대 {{ swimmingPool.hoursAvailable }}시간</span>
                        </div>
                        <div class="float-right text-right">
                          <p *ngIf="!!+swimmingPool.saleHoursPrice">{{ swimmingPool.hoursPrice | number }}원</p>
                          <div *ngIf="!!+swimmingPool.saleHoursPrice" class="price">{{ swimmingPool.saleHoursPrice | number }}<small>원</small></div>
                          <p *ngIf="!+swimmingPool.saleHoursPrice" class="text-decoration-none">&nbsp;</p>
                          <div *ngIf="!+swimmingPool.saleHoursPrice" class="price">{{ swimmingPool.hoursPrice | number }}<small>원</small></div>
                        </div>
                      </div>
                      <div class="type one-night clearfix" *ngIf="!!+swimmingPool.daysPrice">
                        <div class="float-left">
                          <h4>숙박</h4>
                          <span>{{ swimmingPool.daysCheckIn }}:00 ~</span>
                        </div>
                        <div class="float-right text-right">
                          <p *ngIf="!!+swimmingPool.saleDaysPrice">{{ swimmingPool.daysPrice | number }}원</p>
                          <div *ngIf="!!+swimmingPool.saleDaysPrice" class="price">{{ swimmingPool.saleDaysPrice | number }}<small>원</small></div>
                          <p *ngIf="!+swimmingPool.saleDaysPrice" class="text-decoration-none">&nbsp;</p>
                          <div *ngIf="!+swimmingPool.saleDaysPrice" class="price">{{ swimmingPool.daysPrice | number }}<small>원</small></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
          <div class="swiper-button-prev content1-swiper-button-prev">
            <i class="fa fa-angle-left" aria-hidden="true"></i>
          </div>
          <div class="swiper-button-next content1-swiper-button-next">
            <i class="fa fa-angle-right" aria-hidden="true"></i>
          </div>
        </div>
      </div> 
      <div class="content-panel">
        <h2>초특가 할인!!!</h2>
        <div *ngIf="bigSaleIsLoading$ | async" class="loading-wrap">
          <div class="loading"><img src="/assets/img/common/loading.gif" alt="loading"></div>
        </div>
        <div class="swiper-panel" *ngIf="!(bigSaleIsLoading$ | async)">
          <div class="swiper-container" [swiper]="contentConfig2">
            <div class="swiper-wrapper">
              <div class="swiper-slide" *ngFor="let bigSale of bigSales">
                <a routerLink="/accommodation/{{ bigSale.stayId }}" class="content-item">
                  <div class="content-img-wrap">
                    <img src="{{ bigSale.mainImage }}" alt="{{ bigSale.stay }}">
                  </div>
                  <div class="content-text-wrap">
                    <div class="location"><i class="fa fa-map-marker" aria-hidden="true"></i> {{ bigSale.directions }}</div>
                    <h3>{{ bigSale.stay }}</h3>
                    <div class="customer">
                      <img src="/assets/img/common/comma-y.png" class="comma">
                      <span>{{ bigSale.averageGrade }}</span>
                      <i class="fa fa-comments" aria-hidden="true"></i>
                      <span>{{ bigSale.totalComments | number }}</span>
                    </div>
                    <div class="type-wrap">
                      <div class="type borrow clearfix" *ngIf="!!+bigSale.hoursPrice">
                        <div class="float-left">
                          <h4>대실</h4>
                          <span>최대 {{ bigSale.hoursAvailable }}시간</span>
                        </div>
                        <div class="float-right text-right">
                          <p *ngIf="!!+bigSale.saleHoursPrice">{{ bigSale.hoursPrice | number }}원</p>
                          <div *ngIf="!!+bigSale.saleHoursPrice" class="price">{{ bigSale.saleHoursPrice | number }}<small>원</small></div>
                          <p *ngIf="!+bigSale.saleHoursPrice" class="text-decoration-none">&nbsp;</p>
                          <div *ngIf="!+bigSale.saleHoursPrice" class="price">{{ bigSale.hoursPrice | number }}<small>원</small></div>
                        </div>
                      </div>
                      <div class="type one-night clearfix" *ngIf="!!+bigSale.daysPrice">
                        <div class="float-left">
                          <h4>숙박</h4>
                          <span>{{ bigSale.daysCheckIn }}:00 ~</span>
                        </div>
                        <div class="float-right text-right">
                          <p *ngIf="!!+bigSale.saleDaysPrice">{{ bigSale.daysPrice | number }}원</p>
                          <div *ngIf="!!+bigSale.saleDaysPrice" class="price">{{ bigSale.saleDaysPrice | number }}<small>원</small></div>
                          <p *ngIf="!+bigSale.saleDaysPrice" class="text-decoration-none">&nbsp;</p>
                          <div *ngIf="!+bigSale.saleDaysPrice" class="price">{{ bigSale.daysPrice | number }}<small>원</small></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
          <div class="swiper-button-prev content2-swiper-button-prev">
            <i class="fa fa-angle-left" aria-hidden="true"></i>
          </div>
          <div class="swiper-button-next content2-swiper-button-next">
            <i class="fa fa-angle-right" aria-hidden="true"></i>
          </div>
        </div>
      </div> 
      <div class="content-panel">
        <h2>파티룸 밤새 놀기 좋은 숙소</h2>
        <div *ngIf="partyRoomIsLoading$ | async" class="loading-wrap">
          <div class="loading"><img src="/assets/img/common/loading.gif" alt="loading"></div>
        </div>
        <div class="swiper-panel" *ngIf="!(partyRoomIsLoading$ | async)">
          <div class="swiper-container" [swiper]="contentConfig3">
            <div class="swiper-wrapper">
              <div class="swiper-slide" *ngFor="let partyRoom of partyRooms">
                <a routerLink="/accommodation/{{ partyRoom.stayId }}" class="content-item">
                  <div class="content-img-wrap">
                    <img src="{{ partyRoom.mainImage }}" alt="{{ partyRoom.stay }}">
                  </div>
                  <div class="content-text-wrap">
                    <div class="location"><i class="fa fa-map-marker" aria-hidden="true"></i> {{ partyRoom.directions }}</div>
                    <h3>{{ partyRoom.stay }}</h3>
                    <div class="customer">
                      <img src="/assets/img/common/comma-y.png" class="comma">
                      <span>{{ partyRoom.averageGrade }}</span>
                      <i class="fa fa-comments" aria-hidden="true"></i>
                      <span>{{ partyRoom.totalComments | number }}</span>
                    </div>
                    <div class="type-wrap">
                      <div class="type borrow clearfix" *ngIf="!!+partyRoom.hoursPrice">
                        <div class="float-left">
                          <h4>대실</h4>
                          <span>최대 {{ partyRoom.hoursAvailable }}시간</span>
                        </div>
                        <div class="float-right text-right">
                          <p *ngIf="!!+partyRoom.saleHoursPrice">{{ partyRoom.hoursPrice | number }}원</p>
                          <div *ngIf="!!+partyRoom.saleHoursPrice" class="price">{{ partyRoom.saleHoursPrice | number }}<small>원</small></div>
                          <p *ngIf="!+partyRoom.saleHoursPrice" class="text-decoration-none">&nbsp;</p>
                          <div *ngIf="!+partyRoom.saleHoursPrice" class="price">{{ partyRoom.hoursPrice | number }}<small>원</small></div>
                        </div>
                      </div>
                      <div class="type one-night clearfix" *ngIf="!!+partyRoom.daysPrice">
                        <div class="float-left">
                          <h4>숙박</h4>
                          <span>{{ partyRoom.daysCheckIn }}:00 ~</span>
                        </div>
                        <div class="float-right text-right">
                          <p *ngIf="!!+partyRoom.saleDaysPrice">{{ partyRoom.daysPrice | number }}원</p>
                          <div *ngIf="!!+partyRoom.saleDaysPrice" class="price">{{ partyRoom.saleDaysPrice | number }}<small>원</small></div>
                          <p *ngIf="!+partyRoom.saleDaysPrice" class="text-decoration-none">&nbsp;</p>
                          <div *ngIf="!+partyRoom.saleDaysPrice" class="price">{{ partyRoom.daysPrice | number }}<small>원</small></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
          <div class="swiper-button-prev content3-swiper-button-prev">
            <i class="fa fa-angle-left" aria-hidden="true"></i>
          </div>
          <div class="swiper-button-next content3-swiper-button-next">
            <i class="fa fa-angle-right" aria-hidden="true"></i>
          </div>
        </div>
      </div> 
      <div class="content-panel">
        <h2>워터파크 부럽지 않은 Cool캉스</h2>
        <div *ngIf="spaIsLoading$ | async" class="loading-wrap">
          <div class="loading"><img src="/assets/img/common/loading.gif" alt="loading"></div>
        </div>
        <div class="swiper-panel" *ngIf="!(spaIsLoading$ | async)">
          <div class="swiper-container" [swiper]="contentConfig4">
            <div class="swiper-wrapper">
              <div class="swiper-slide" *ngFor="let spa of spas">
                <a routerLink="/accommodation/{{ spa.stayId }}" class="content-item">
                  <div class="content-img-wrap">
                    <img src="{{ spa.mainImage }}" alt="{{ spa.stay }}">
                  </div>
                  <div class="content-text-wrap">
                    <div class="location"><i class="fa fa-map-marker" aria-hidden="true"></i> {{ spa.directions }}</div>
                    <h3>{{ spa.stay }}</h3>
                    <div class="customer">
                      <img src="/assets/img/common/comma-y.png" class="comma">
                      <span>{{ spa.averageGrade }}</span>
                      <i class="fa fa-comments" aria-hidden="true"></i>
                      <span>{{ spa.totalComments | number }}</span>
                    </div>
                    <div class="type-wrap">
                      <div class="type borrow clearfix" *ngIf="!!+spa.hoursPrice">
                        <div class="float-left">
                          <h4>대실</h4>
                          <span>최대 {{ spa.hoursAvailable }}시간</span>
                        </div>
                        <div class="float-right text-right">
                          <p *ngIf="!!+spa.saleHoursPrice">{{ spa.hoursPrice | number }}원</p>
                          <div *ngIf="!!+spa.saleHoursPrice" class="price">{{ spa.saleHoursPrice | number }}<small>원</small></div>
                          <p *ngIf="!+spa.saleHoursPrice" class="text-decoration-none">&nbsp;</p>
                          <div *ngIf="!+spa.saleHoursPrice" class="price">{{ spa.hoursPrice | number }}<small>원</small></div>
                        </div>
                      </div>
                      <div class="type one-night clearfix" *ngIf="spa.daysPrice">
                        <div class="float-left">
                          <h4>숙박</h4>
                          <span>{{ spa.daysCheckIn }}:00 ~</span>
                        </div>
                        <div class="float-right text-right">
                          <p *ngIf="spa.saleDaysPrice">{{ spa.daysPrice | number }}원</p>
                          <div *ngIf="spa.saleDaysPrice" class="price">{{ spa.saleDaysPrice | number }}<small>원</small></div>
                          <p *ngIf="!spa.saleDaysPrice" class="text-decoration-none">&nbsp;</p>
                          <div *ngIf="!spa.saleDaysPrice" class="price">{{ spa.daysPrice | number }}<small>원</small></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
          <div class="swiper-button-prev content4-swiper-button-prev">
            <i class="fa fa-angle-left" aria-hidden="true"></i>
          </div>
          <div class="swiper-button-next content4-swiper-button-next">
            <i class="fa fa-angle-right" aria-hidden="true"></i>
          </div>
        </div>
      </div> 
    </div>
  </section>
</section>
<app-footer></app-footer>
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">지도로 위치지정</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <h5>위치를 마우스로 선택해주세요</h5>
    <div class="map-wrap">
      <p>{{ address }}</p>
      <agm-map [latitude]="lat" [zoom]="zoom" [longitude]="lng" (mapClick)="positionChange($event)">
        <agm-marker [(latitude)]="lat" [(longitude)]="lng"></agm-marker>
      </agm-map>
    </div>
    <button class="btn btn-primary d-block w-100" (click)="locationComplete()">위치지정 완료</button>
  </div>
</ng-template>